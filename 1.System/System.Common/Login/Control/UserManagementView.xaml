<Window x:Class="System.Common.Login.Control.UserManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:System.Common.Login.Control"
             xmlns:controls="clr-namespace:System.ICore.Control;assembly=System.ICore"
             mc:Ignorable="d" 
             Width="700"
             Height="600"
             d:DesignHeight="600"
             d:DesignWidth="700"
             AllowsTransparency="True"
             Background="#00FFFFFF"
             FontWeight="Medium"
             ResizeMode="NoResize"
             WindowStartupLocation="CenterScreen"
             WindowStyle="None"
             >
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/System.ICore;component/Resoure/DictionaryMain.xaml" />
                <ResourceDictionary Source="/System.ICore;component/Resoure/ButtonEx.xaml" />
                <ResourceDictionary Source="/System.ICore;component/Resoure/DataGridStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Border Background="{ DynamicResource MainColor}" BorderBrush="{ DynamicResource MainColor}" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="26" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0"  MouseMove="TitleBar_MouseMove">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Margin="0,0,10,0" HorizontalAlignment="Left" Orientation="Horizontal">
                    <Image Height="24" HorizontalAlignment="Center" VerticalAlignment="Center" Source="pack://application:,,,/System.ICore;Component/Image/login32.png" />
                    <TextBlock VerticalAlignment="Center" FontSize="15" Text="用户管理" />
                </StackPanel>
                <StackPanel Grid.Column="1" Margin="0,0,10,0" HorizontalAlignment="Right" Orientation="Horizontal">
                    <Button Width="22" Height="24" Click="btn_close_Click" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate>
                                <Grid Background="Transparent">
                                    <Line
                         Width="15"
                         Height="15"
                         Stroke="Black"
                         StrokeThickness="3"
                         X1="0"
                         X2="15"
                         Y1="0"
                         Y2="15" />
                                    <Line
                         Width="15"
                         Height="15"
                         Stroke="Black"
                         StrokeThickness="3"
                         X1="15"
                         X2="0"
                         Y1="0"
                         Y2="15" />
                                </Grid>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1" Margin="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="200" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="200" />
                </Grid.ColumnDefinitions>

                <DataGrid
     Grid.Row="0"
     Grid.ColumnSpan="2"
     CellStyle="{StaticResource dataGridCellStyle}"
     ColumnHeaderStyle="{StaticResource dataGridColumnHeaderStyle}"
     HeadersVisibility="All"
     IsReadOnly="True"
     ItemsSource="{Binding Config.UserItem}"
     RowHeaderStyle="{StaticResource dataGridRowHeaderStyle}"
     RowStyle="{StaticResource dataGridRowStyle}"
     SelectedItem="{Binding SelectUser}"
     Style="{StaticResource dataGridStyle}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Width="100" Binding="{Binding Path=UserName}" Header="用户名" IsReadOnly="True" />
                        <DataGridTextColumn Width="120" Binding="{Binding Path=PassWord}" Header="密码" IsReadOnly="True" Visibility="Hidden" />
                        <DataGridTextColumn Width="100" Binding="{Binding Path=LevelType}" Header="权限等级" IsReadOnly="True" />
                        <DataGridTextColumn Width="120" Binding="{Binding Path=PhoneNumber}" Header="电话号码" IsReadOnly="True" />
                    </DataGrid.Columns>

                </DataGrid>
                <GroupBox
    Grid.Row="1"
    Grid.Column="0"
    Margin="2"
    FontSize="13"
    Header="操作"
    Style="{StaticResource stlGroupBox}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="140" />

                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Row="0" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" FontSize="15" Text="  用户名:" />
                            <TextBox
                Width="250"
                Height="35"
                Margin="5,0,0,0"
                Foreground="Black"
                Style="{StaticResource stlTextBox}"
                Validation.ErrorTemplate="{StaticResource ValidationTemplate}">
                                <TextBox.Text>
                                    <Binding Mode="TwoWay" Path="InputUserName" UpdateSourceTrigger="PropertyChanged" />
                                </TextBox.Text>
                            </TextBox>
                        </StackPanel>
                        <StackPanel Grid.Row="1" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" FontSize="15" Text="      密码:" />
                            <TextBox
                x:Name="pwd"
                Width="250"
                Height="35"
                Margin="5,0,0,0"
                Foreground="Black"
                Style="{StaticResource stlTextBox}"
                Validation.ErrorTemplate="{StaticResource ValidationTemplate}">
                                <TextBox.Text>
                                    <Binding Mode="TwoWay" Path="InputPassWord" UpdateSourceTrigger="PropertyChanged" />
                                </TextBox.Text>
                            </TextBox>
                        </StackPanel>
                        <StackPanel Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" FontSize="15" Text="权限等级:" />
                            <ComboBox
                x:Name="cmb_LevelStyle"
                Width="250"
                Height="35"
                Margin="5,0,0,0"
                Foreground="Black"
                SelectedIndex="{Binding InputLevel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Style="{StaticResource stlComboBox}" />
                        </StackPanel>

                        <StackPanel Grid.Row="3" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" FontSize="15" Text="电话号码:" />
                            <TextBox
                Width="250"
                Height="35"
                Margin="5,0,0,0"
                Foreground="Black"
                Style="{StaticResource stlTextBox}"
                Validation.ErrorTemplate="{StaticResource ValidationTemplate}">
                                <TextBox.Text>
                                    <Binding Mode="TwoWay" Path="InputPhoneNumber" UpdateSourceTrigger="PropertyChanged" />
                                </TextBox.Text>
                            </TextBox>
                        </StackPanel>

                        <controls:ButtonEx
            Grid.Row="0"
            Grid.Column="1"
            Width="120"
            Height="35"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="#FF6EBE28"
            ButtonType="IconText"
            Command="{Binding AddUserCommand}"
            Content="+ 添加用户"
            CornerRadius="6"
            FontSize="15" />
                        <controls:ButtonEx
            Grid.Row="1"
            Grid.Column="1"
            Width="120"
            Height="35"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="#FFB91D1D"
            ButtonType="IconText"
            Command="{Binding RemoveUserCommand}"
            Content="- 删除用户"
            CornerRadius="6"
            FontSize="15" />
                        <controls:ButtonEx
            Grid.Row="3"
            Grid.Column="1"
            Width="120"
            Height="35"
            Background="#FF6EBE28"
            ButtonType="IconText"
            Command="{Binding SaveConfigCommand}"
            Content="保存"
            CornerRadius="6"
            FontSize="15"
            Icon="pack://application:,,,/System.ICore;Component/Image/Save.png" />


                    </Grid>
                </GroupBox>
                <GroupBox
    Grid.Row="1"
    Grid.Column="1"
    Margin="2"
    FontSize="13"
    Header="设置"
    Style="{StaticResource stlGroupBox}">
                    <WrapPanel HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal">
                        <TextBlock Margin="5" VerticalAlignment="Center" FontSize="12" Text="长期未操作退出权限:" />
                        <TextBox
            Width="100"
            Height="28"
            Margin="5,0,0,0"
            Foreground="Black"
            Style="{StaticResource stlTextBox}"
            Validation.ErrorTemplate="{StaticResource ValidationTemplate}">
                            <TextBox.Text>
                                <Binding Mode="TwoWay" Path="Config.FreeMinute" UpdateSourceTrigger="PropertyChanged" />
                            </TextBox.Text>
                        </TextBox>
                        <TextBlock VerticalAlignment="Center" FontSize="12" Text="分钟" />
                    </WrapPanel>
                </GroupBox>

            </Grid>
            </Grid>
    </Border>
       
</Window>
